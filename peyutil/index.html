
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>peyutil: Python utilities for Open Tree &#8212; peyutil 0.0.2 documentation</title>
    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">peyutil 0.0.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">peyutil</span></code>: Python utilities for Open Tree</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-peyutil">
<span id="peyutil-python-utilities-for-open-tree"></span><h1><a class="reference internal" href="#module-peyutil" title="peyutil"><code class="xref py py-mod docutils literal notranslate"><span class="pre">peyutil</span></code></a>: Python utilities for Open Tree<a class="headerlink" href="#module-peyutil" title="Permalink to this headline">¶</a></h1>
<p>Simple utility functions used by Open Tree python code.</p>
<p>These function are used by packages that descend from peyotl, but
do not depend on any part of peyotl.</p>
<p>The package is organized into subpackages for ease of maintenance.
However, the public functions are imported into <code class="xref any docutils literal notranslate"><span class="pre">peyutil.__init__.py</span></code>,
so users can ignore the subpackage structure.
The subpackage structure is retained in the documentation structure below
as an organizational aid.</p>
<p>See <a class="reference external" href="https://opentreeoflife.github.io/">https://opentreeoflife.github.io/</a> for general information about the
Open Tree of Life project.</p>
<div class="section" id="io-functions">
<h2>IO functions<a class="headerlink" href="#io-functions" title="Permalink to this headline">¶</a></h2>
<p>Implemented in the  input_output subpackage.</p>
<dl class="py function">
<dt id="peyutil.download">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">download</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#download"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the text fetched via http GET from URL, read as <code class="xref any docutils literal notranslate"><span class="pre">encoding</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.expand_path">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">expand_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#expand_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.expand_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to expand ~ and any environmental vars in a path string.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.expand_to_abspath">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">expand_to_abspath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#expand_to_abspath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.expand_to_abspath" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <a class="reference internal" href="#peyutil.expand_path" title="peyutil.expand_path"><code class="xref any py py-func docutils literal notranslate"><span class="pre">expand_path</span></code></a> and then converts to an absolute path.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.open_for_group_write">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">open_for_group_write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fp</span></em>, <em class="sig-param"><span class="n">mode</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#open_for_group_write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.open_for_group_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Open with mode=mode and permissions ‘-rw-rw-r–’.</p>
<p>Group writable is the default on some systems/accounts, but
it is important that it be present on our deployment machine.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.parse_study_tree_list">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">parse_study_tree_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fp</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#parse_study_tree_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.parse_study_tree_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a filepath to a list of study+trees returns dicts with that info.</p>
<p>The <code class="xref any docutils literal notranslate"><span class="pre">fp</span></code> filepath in this function can refer to a JSON file or text file.
If <code class="xref any docutils literal notranslate"><span class="pre">fp</span></code> is JSON, it should unpack as an iterable with each element either:</p>
<blockquote>
<div><ul class="simple">
<li><p>a dict with ‘study_id’ and ‘tree_id’ keys, or</p></li>
<li><p>a string</p></li>
</ul>
</div></blockquote>
<p>If <code class="xref any docutils literal notranslate"><span class="pre">fp</span></code> does not parse, it is assumed to be a text file. Lines with
the first graphical character being # will be skipped. Others will
be treated as strings.</p>
<p>Every element in iterable input that is a dict, <em>must</em> have ‘study_id’
and ‘tree_id’ keys (otherwise and AssertionError will be raise).
Qualifying elements will be returned.</p>
<p>Every string element in the input iterable should be in the pattern:</p>
<blockquote>
<div><ul class="simple">
<li><p>pg_(STUDYID)_(TREEID) or</p></li>
<li><p>ot_(STUDYID)_(TREEID)</p></li>
</ul>
</div></blockquote>
<p>If no AssertionError is raise, the return list will be a list of dicts
each of which will have a ‘study_id’ and ‘tree_id’ key (though
they may have extra info if the input was JSON. This function was a
normalizer as we moved from string to JSON representation of
tree reference lists.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.pretty_dict_str">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">pretty_dict_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em>, <em class="sig-param"><span class="n">indent</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#pretty_dict_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.pretty_dict_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows JSON indented representation of <code class="xref any docutils literal notranslate"><span class="pre">d</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.read_as_json">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">read_as_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_filename</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#read_as_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.read_as_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Returnes the content of the JSON at the filepath <code class="xref any docutils literal notranslate"><span class="pre">in_filename</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.read_filepath">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">read_filepath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#read_filepath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.read_filepath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the text content of <code class="xref any docutils literal notranslate"><span class="pre">filepath</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.write_to_filepath">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">write_to_filepath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">content</span></em>, <em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'w'</span></em>, <em class="sig-param"><span class="n">group_writeable</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#write_to_filepath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.write_to_filepath" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes <code class="xref any docutils literal notranslate"><span class="pre">content</span></code> to the <code class="xref any docutils literal notranslate"><span class="pre">filepath</span></code>; may create parent directory.</p>
<p>Uses the specified file <code class="xref any docutils literal notranslate"><span class="pre">mode</span></code> and data <code class="xref any docutils literal notranslate"><span class="pre">encoding</span></code>.
If <code class="xref any docutils literal notranslate"><span class="pre">group_writeable</span></code> is True, the output file will have permissions to be
writable by the group (on POSIX systems).</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.write_as_json">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">write_as_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">blob</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">indent</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">sort_keys</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#write_as_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.write_as_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes <code class="xref any docutils literal notranslate"><span class="pre">blob</span></code> as JSON to the filepath or outstream <code class="xref any docutils literal notranslate"><span class="pre">dest</span></code>.</p>
<p>If <code class="xref any docutils literal notranslate"><span class="pre">dest</span></code> is a string, it is assumed to be object with .write().
Uses utf-8 encoding if the filepath is given (does <em>not</em> change
the encoding if dest is already open).</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.write_pretty_dict_str">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">write_pretty_dict_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">indent</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/input_output.html#write_pretty_dict_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.write_pretty_dict_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes JSON indented representation of <code class="xref any docutils literal notranslate"><span class="pre">obj</span></code> to <code class="xref any docutils literal notranslate"><span class="pre">out</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="string-manipulations">
<h2>String manipulations<a class="headerlink" href="#string-manipulations" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="peyutil.increment_slug">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">increment_slug</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/str_util.html#increment_slug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.increment_slug" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate next slug for a series.</p>
<p>Some docstore types will use slugs (see above) as document ids. To
support unique ids, we’ll serialize them as follows:
TestUserA/my-test
TestUserA/my-test-2
TestUserA/my-test-3
…</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.slugify">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">slugify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/str_util.html#slugify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.slugify" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert any string to a “slug” for filename and URL part.</p>
<p>EXAMPLE: “Trees about bees” =&gt; ‘trees-about-bees’
EXAMPLE: “My favorites!” =&gt; ‘my-favorites’
N.B. that its behavior should match this client-side slugify function, so
we can accurately “preview” slugs in the browser:
<a class="reference external" href="https://github.com/OpenTreeOfLife/opentree/blob/553546942388d78545cc8dcc4f84db78a2dd79ac/curator/static/js/curation-helpers.js#L391-L397">https://github.com/OpenTreeOfLife/opentree/blob/553546942388d78545cc8dcc4f84db78a2dd79ac/curator/static/js/curation-helpers.js#L391-L397</a>
TODO: Should we also trim leading and trailing spaces (or dashes in the final slug)?</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.underscored2camel_case">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">underscored2camel_case</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/str_util.html#underscored2camel_case"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.underscored2camel_case" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts ott_id to ottId.</p>
</dd></dl>

</div>
<div class="section" id="misc-functions">
<h2>Misc functions<a class="headerlink" href="#misc-functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="peyutil.doi2url">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">doi2url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil.html#doi2url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.doi2url" title="Permalink to this definition">¶</a></dt>
<dd><p>Canonicalizes a DOI.</p>
<p>Takes a string form of a DOI (raw, http…, or doi:) and returns
a string in the URL form.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.reverse_dict">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">reverse_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/str_util.html#reverse_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.reverse_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict v-&gt;k for the k-&gt;v mapping in <code class="xref any docutils literal notranslate"><span class="pre">d</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="newick-tree-tokenization">
<h2>Newick Tree tokenization<a class="headerlink" href="#newick-tree-tokenization" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="https://evolution.genetics.washington.edu/phylip/newicktree.html">https://evolution.genetics.washington.edu/phylip/newicktree.html</a></p>
<p>peyutil provides some utilities for breaking string input into Newick tokens
or (on a higher level) events that happen when parsing an Newick string.</p>
<dl class="py class">
<dt id="peyutil.NewickTokenType">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">NewickTokenType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickTokenType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickTokenType" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum of Newick Token Types.</p>
</dd></dl>

<dl class="py class">
<dt id="peyutil.NewickTokenizer">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">NewickTokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stream</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">newick</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filepath</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickTokenizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickTokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Class providing an Newick token iteration interface.</p>
<p>Name tokens are stripped of whitespace and comments.</p>
<p>Newick input as <code class="xref any docutils literal notranslate"><span class="pre">stream</span></code>, a <code class="xref any docutils literal notranslate"><span class="pre">newick</span></code> string, of a <code class="xref any docutils literal notranslate"><span class="pre">filepath</span></code> of __init__.</p>
<dl class="py method">
<dt id="peyutil.NewickTokenizer.__iter__">
<code class="sig-name descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickTokenizer.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickTokenizer.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns self as the internal state is used to achieve iteration.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.NewickTokenizer.__next__">
<code class="sig-name descname">__next__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickTokenizer.__next__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickTokenizer.__next__" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes comments from previous tokens, then to the next token.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.NewickTokenizer.file_pos">
<code class="sig-name descname">file_pos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickTokenizer.file_pos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickTokenizer.file_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string describing the position within the input stream.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.NewickTokenizer.next">
<code class="sig-name descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#peyutil.NewickTokenizer.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes comments from previous tokens, then to the next token.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.NewickTokenizer.tokens">
<code class="sig-name descname">tokens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickTokenizer.tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickTokenizer.tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of remaining tokens (all if not yet iterated over).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="peyutil.NewickEvents">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">NewickEvents</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickEvents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Newick Event types for event-based parsing.</p>
</dd></dl>

<dl class="py class">
<dt id="peyutil.NewickEventFactory">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">NewickEventFactory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tokenizer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">newick</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filepath</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">event_handler</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickEventFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickEventFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Class providing an Newick event iteration interface.</p>
<p>Higher level interface for reading newick strings into
a series of events.
Each event will be a dict with the keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">'type'</span></code>: a facet of the <a class="reference internal" href="#peyutil.NewickEvents" title="peyutil.NewickEvents"><code class="xref any py py-class docutils literal notranslate"><span class="pre">NewickEvents</span></code></a> Enum, and</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">'comments'</span></code>: a list of all comments contained</p></li>
</ul>
</div></blockquote>
<p><code class="xref any docutils literal notranslate"><span class="pre">NewickEvents.TIP</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">NewickEvents.CLOSE_SUBTREE</span></code> events can also have
a <code class="xref any docutils literal notranslate"><span class="pre">label</span></code> and/or an <code class="xref any docutils literal notranslate"><span class="pre">edge_info</span></code> string.</p>
<p><em>NOTE</em> for the sake of performance, the value of the comments field
may be the same list in different events! So client code should copy
the list if they need a stable copy.</p>
<p>You must make a copy of it if you want to process comments later.</p>
<p>Inputs via <code class="xref any docutils literal notranslate"><span class="pre">tokenizer</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">newick</span></code>, or <code class="xref any docutils literal notranslate"><span class="pre">filepath</span></code> of __init__.</p>
<p>If <code class="xref any docutils literal notranslate"><span class="pre">event_handler</span></code> is not <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a> in __init__, the initializer will iterate
over all events, passing each one to the handler. So no iteration is
needed or supported.</p>
<p>If <code class="xref any docutils literal notranslate"><span class="pre">event_handler</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a>, the object will be ready for iteration.</p>
<dl class="py method">
<dt id="peyutil.NewickEventFactory.__iter__">
<code class="sig-name descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickEventFactory.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickEventFactory.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns self as the internal state is used to achieve iteration.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.NewickEventFactory.__next__">
<code class="sig-name descname">__next__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/tokenizer.html#NewickEventFactory.__next__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.NewickEventFactory.__next__" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes comments and returns next event dict.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.NewickEventFactory.next">
<code class="sig-name descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#peyutil.NewickEventFactory.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes comments and returns next event dict.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="python-2-3-compatability">
<h2>Python 2+3 compatability<a class="headerlink" href="#python-2-3-compatability" title="Permalink to this headline">¶</a></h2>
<p>Because Open Tree uses Python 2 and Python 3, peyutil provides
some conditonal importing to make basic usage in client code work without
conditioning on python version:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">StringIO</span></code>: imported from <a class="reference external" href="https://docs.python.org/3/library/io.html#module-io" title="(in Python v3.8)"><code class="xref any docutils literal notranslate"><span class="pre">io</span></code></a> in py3 and <code class="xref any docutils literal notranslate"><span class="pre">cStringIO</span></code> in py2</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">UNICODE</span></code>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref any docutils literal notranslate"><span class="pre">str</span></code></a> in py3 and <code class="xref any docutils literal notranslate"><span class="pre">unicode</span></code> in py2</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">urlencode</span></code>: from <a class="reference external" href="https://docs.python.org/3/library/urllib.parse.html#urllib.parse.urlencode" title="(in Python v3.8)"><code class="xref any docutils literal notranslate"><span class="pre">urllib.parse.urlencode</span></code></a> or <code class="xref any docutils literal notranslate"><span class="pre">urllib.urlencode</span></code></p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">primitive_string_types</span></code>: a tuple of primitive string types <code class="xref any docutils literal notranslate"><span class="pre">(str,)</span></code> or <code class="xref any docutils literal notranslate"><span class="pre">(str,</span> <span class="pre">unicode)</span></code></p></li>
</ul>
</div></blockquote>
<dl class="py function">
<dt id="peyutil.is_int_type">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">is_int_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/str_util.html#is_int_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.is_int_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if x is from int.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.is_str_type">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">is_str_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/str_util.html#is_str_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.is_str_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if x is from str.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.get_utf_8_string_io_writer">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">get_utf_8_string_io_writer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/str_util.html#get_utf_8_string_io_writer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.get_utf_8_string_io_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a (strio, wrapper) tuple. Backward compat. layer for 2.7.</p>
<ol class="arabic simple">
<li><p>wrapper.write(…) operations support adding content</p></li>
<li><p>When write’s are done: call flush_utf_8_writer(wrapper)</p></li>
<li><dl class="simple">
<dt>the string can be recovered using strio.getvalue()</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>(you’ll need to call strio.getvalue().decode(‘utf-8’)</dt><dd><p>if you are in Python 2.7)</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
</dd></dl>

<dl class="py function">
<dt id="peyutil.flush_utf_8_writer">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">flush_utf_8_writer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wrapper</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/str_util.html#flush_utf_8_writer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.flush_utf_8_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>No-op in Python 3.</p>
<p>You must call this on wrapper instance from
get_utf_8_string_io_writer when done writing.
NO-Op in python 3.</p>
</dd></dl>

</div>
<div class="section" id="for-internal-use-only">
<h2>For internal use only<a class="headerlink" href="#for-internal-use-only" title="Permalink to this headline">¶</a></h2>
<p>Several functions implemented here have drawbacks (e.g. lack of thread safety)
that make them unwise to use in general. They tend to be used in a few spots of
other Open Tree of Life code that is executed in contexts in which they are
known to be safe to use.</p>
<dl class="py function">
<dt id="peyutil.any_early_exit">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">any_early_exit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em>, <em class="sig-param"><span class="n">predicate</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil.html#any_early_exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.any_early_exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests each element in iterable by calling predicate(element).</p>
<p>Returns True on first True, or False.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.get_unique_filepath">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">get_unique_filepath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stem</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil.html#get_unique_filepath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.get_unique_filepath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a unique stem# string. NOT thread-safe!</p>
<p>Return stems or stem# where # is the smallest
positive integer for which the path does not exist.
useful for temp dirs where the client code wants an
obvious ordering.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.pretty_timestamp">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">pretty_timestamp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">style</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil.html#pretty_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.pretty_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>NOT Recommended. Simple time formatter. legacy artifact!</p>
<p>Used in peyotl test reporting.
<code class="xref any docutils literal notranslate"><span class="pre">t</span></code> defaults to current time.
If <code class="xref any docutils literal notranslate"><span class="pre">style</span></code> is 0, strftime uses Y-m-d format
If <code class="xref any docutils literal notranslate"><span class="pre">style</span></code> is not 0 and  not a string YmdHMS is the format.
Otherwise it is passed to strftime.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.propinquity_fn_to_study_tree">
<code class="sig-prename descclassname">peyutil.</code><code class="sig-name descname">propinquity_fn_to_study_tree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inp_fn</span></em>, <em class="sig-param"><span class="n">strip_extension</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil.html#propinquity_fn_to_study_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.propinquity_fn_to_study_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>For internal use only. Parses a filename to study+tree.</p>
<p>This should only be called by propinquity - other code should be treating these
filenames (and the keys that are based on them) as opaque strings.</p>
<p>Takes a filename (or key if strip_extension is False), returns (study_id, tree_id)</p>
<p>propinquity provides a map to look up the study ID and tree ID (and git SHA)
from these strings.</p>
</dd></dl>

</div>
<div class="section" id="utilities-for-writing-tests">
<h2>Utilities for writing tests<a class="headerlink" href="#utilities-for-writing-tests" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="peyutil.test.support.helper.testing_read_json">
<code class="sig-prename descclassname">peyutil.test.support.helper.</code><code class="sig-name descname">testing_read_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fp</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/helper.html#testing_read_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.helper.testing_read_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a UTF-8 JSON from filepath.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.test.support.helper.testing_write_json">
<code class="sig-prename descclassname">peyutil.test.support.helper.</code><code class="sig-name descname">testing_write_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">o</span></em>, <em class="sig-param"><span class="n">fp</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/helper.html#testing_write_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.helper.testing_write_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a UTF-8 JSON to filepath.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.test.support.helper.testing_through_json">
<code class="sig-prename descclassname">peyutil.test.support.helper.</code><code class="sig-name descname">testing_through_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/helper.html#testing_through_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.helper.testing_through_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a deserialized version of the JSON serialization of <code class="xref any docutils literal notranslate"><span class="pre">d</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.test.support.helper.testing_dict_eq">
<code class="sig-prename descclassname">peyutil.test.support.helper.</code><code class="sig-name descname">testing_dict_eq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/helper.html#testing_dict_eq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.helper.testing_dict_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>You should just call a == b. This is a legacy of a verbose dict compare.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.test.support.helper.testing_conv_key_unicode_literal">
<code class="sig-prename descclassname">peyutil.test.support.helper.</code><code class="sig-name descname">testing_conv_key_unicode_literal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/helper.html#testing_conv_key_unicode_literal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.helper.testing_conv_key_unicode_literal" title="Permalink to this definition">¶</a></dt>
<dd><p>Not intended for widespread use. Used in some NexSON tests.</p>
</dd></dl>

<dl class="py function">
<dt id="peyutil.test.support.pathmap.get_test_path_mapper">
<code class="sig-prename descclassname">peyutil.test.support.pathmap.</code><code class="sig-name descname">get_test_path_mapper</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#get_test_path_mapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.get_test_path_mapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory for PathMapForTests object for the package.</p>
</dd></dl>

<dl class="py class">
<dt id="peyutil.test.support.pathmap.PathMapForTests">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.test.support.pathmap.</code><code class="sig-name descname">PathMapForTests</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path_map_filepath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Class with attributes that make it easy to find different types of testing data.</p>
<p>Uses the parent directory of <code class="xref any docutils literal notranslate"><span class="pre">path_map_filepath</span></code> to find other testing dirs.</p>
<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.all_files">
<code class="sig-name descname">all_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefix</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.all_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.all_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a set of filepaths to all test data.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.amendment_file_obj">
<code class="sig-name descname">amendment_file_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.amendment_file_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.amendment_file_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a readable file object from <a class="reference internal" href="#peyutil.test.support.pathmap.PathMapForTests.amendment_source_path" title="peyutil.test.support.pathmap.PathMapForTests.amendment_source_path"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">amendment_source_path</span></code></a> call.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.amendment_obj">
<code class="sig-name descname">amendment_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.amendment_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.amendment_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a JSON load result from <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code> in the amendments test dir.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.amendment_source_path">
<code class="sig-name descname">amendment_source_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.amendment_source_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.amendment_source_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a absolute  filepath to <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code> in TESTS/data/amendments dir.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.collection_file_obj">
<code class="sig-name descname">collection_file_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.collection_file_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.collection_file_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a readable file object from <a class="reference internal" href="#peyutil.test.support.pathmap.PathMapForTests.collection_source_path" title="peyutil.test.support.pathmap.PathMapForTests.collection_source_path"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">collection_source_path</span></code></a> call.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.collection_obj">
<code class="sig-name descname">collection_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.collection_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.collection_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a JSON load result from <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code> in the collection test dir.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.collection_source_path">
<code class="sig-name descname">collection_source_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.collection_source_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.collection_source_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a absolute  filepath to <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code> in TESTS/data/colletions dir.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.equal_blob_check">
<code class="sig-name descname">equal_blob_check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unit_test</span></em>, <em class="sig-param"><span class="n">diff_file_tag</span></em>, <em class="sig-param"><span class="n">first</span></em>, <em class="sig-param"><span class="n">second</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.equal_blob_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.equal_blob_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Trips unit_test failure if <code class="xref any docutils literal notranslate"><span class="pre">first</span></code> != <code class="xref any docutils literal notranslate"><span class="pre">second</span></code> after writing diff files.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.json_source_path">
<code class="sig-name descname">json_source_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.json_source_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.json_source_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fullpath for testing a JSON in <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.named_output_path">
<code class="sig-name descname">named_output_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">suffix_timestamp</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.named_output_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.named_output_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a filepath to filename in the testing output dir.</p>
<p>If <code class="xref any docutils literal notranslate"><span class="pre">suffix_timestamp</span></code> is True, results of <a class="reference internal" href="#peyutil.pretty_timestamp" title="peyutil.pretty_timestamp"><code class="xref any py py-func docutils literal notranslate"><span class="pre">pretty_timestamp</span></code></a> will
be appended to the filename.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.named_output_stream">
<code class="sig-name descname">named_output_stream</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">suffix_timestamp</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.named_output_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.named_output_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns writable file stream of the file from a <code class="xref any docutils literal notranslate"><span class="pre">named_ouput_path</span> <span class="pre">call</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.nexml_source_path">
<code class="sig-name descname">nexml_source_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.nexml_source_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.nexml_source_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fullpath for testing a NeXML in <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.nexson_file_obj">
<code class="sig-name descname">nexson_file_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.nexson_file_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.nexson_file_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns readable file object for testing NexSON in <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.nexson_obj">
<code class="sig-name descname">nexson_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.nexson_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.nexson_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a JSON load result from <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code> in the TESTS/data/nexson.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.nexson_source_path">
<code class="sig-name descname">nexson_source_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.nexson_source_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.nexson_source_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fullpath for testing a NexSON in <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.next_unique_filepath">
<code class="sig-name descname">next_unique_filepath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fp</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.next_unique_filepath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.next_unique_filepath" title="Permalink to this definition">¶</a></dt>
<dd><p>Not thread safe! adds numeric suffix to <code class="xref any docutils literal notranslate"><span class="pre">fp</span></code> until the path does not exist.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.next_unique_scratch_filepath">
<code class="sig-name descname">next_unique_scratch_filepath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.next_unique_scratch_filepath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.next_unique_scratch_filepath" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the full path to a scratch file starting with <code class="xref any docutils literal notranslate"><span class="pre">fn</span></code> in the scratch dir.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.script_source_path">
<code class="sig-name descname">script_source_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.script_source_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.script_source_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the full path to a <code class="xref any docutils literal notranslate"><span class="pre">filename</span></code> in the package’s scripts dir.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.pathmap.PathMapForTests.shared_test_dir">
<code class="sig-name descname">shared_test_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/pathmap.html#PathMapForTests.shared_test_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.pathmap.PathMapForTests.shared_test_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fullpath to the shared-api-tests dir in the tests.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="peyutil.test.support.struct_diff.DictDiff">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.test.support.struct_diff.</code><code class="sig-name descname">DictDiff</code><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for creating readable diffs between dicts.</p>
<p>Use the DictDiff.create factory function to avoid pitfalls
associated with having to learn all of the methods of this class.</p>
<p>Use the DictDiff.create method.</p>
<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.add_addition">
<code class="sig-name descname">add_addition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.add_addition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.add_addition" title="Permalink to this definition">¶</a></dt>
<dd><p>Records a new k-&gt;v pair. Don’t call, if you used the factory.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.add_deletion">
<code class="sig-name descname">add_deletion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.add_deletion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.add_deletion" title="Permalink to this definition">¶</a></dt>
<dd><p>Records a missing k-&gt;v pair. Don’t call, if you used the factory.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.add_modification">
<code class="sig-name descname">add_modification</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.add_modification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.add_modification" title="Permalink to this definition">¶</a></dt>
<dd><p>Records a new value for k-&gt;v pair. Don’t call, if you used the factory.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.additions_expr">
<code class="sig-name descname">additions_expr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.additions_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.additions_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings describing additions. <code class="xref any docutils literal notranslate"><span class="pre">par</span></code> can be a prefix.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.create">
<em class="property">static </em><code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory function for a DictDiff object comparing <code class="xref any docutils literal notranslate"><span class="pre">src</span></code> to <code class="xref any docutils literal notranslate"><span class="pre">dest</span></code>.</p>
<p>Inefficient comparison of src and dest dicts.
Recurses through dict and lists.
returns None if there is no difference and a
DictDiffObject of there are differences
<a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs can contain:</p>
<blockquote>
<div><dl class="simple">
<dt>wrap_dict_in_list default False. If True and one</dt><dd><p>value is present as a list and the other is
a dict, then the dict will be converted to
a list of one dict of the comparison. This
is helpful given the BadgerFish convention of
emitting single elements as a dict, but &gt;1 elements
as a list of dicts.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.deletions_expr">
<code class="sig-name descname">deletions_expr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.deletions_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.deletions_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings describing deletions. <code class="xref any docutils literal notranslate"><span class="pre">par</span></code> can be a prefix.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.edits_expr">
<code class="sig-name descname">edits_expr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.edits_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.edits_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Should probably be private. Returns a list of strings describing edits.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.finish">
<code class="sig-name descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts edits. Not needed if you used the DictDiff.create.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.modification_expr">
<code class="sig-name descname">modification_expr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.modification_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.modification_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings describing modifications. <code class="xref any docutils literal notranslate"><span class="pre">par</span></code> can be a prefix.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.DictDiff.patch">
<code class="sig-name descname">patch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#DictDiff.patch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.DictDiff.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the DictDiff to <code class="xref any docutils literal notranslate"><span class="pre">src</span></code> dict.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="peyutil.test.support.struct_diff.ListDiff">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.test.support.struct_diff.</code><code class="sig-name descname">ListDiff</code><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for creating readable diffs between lists.</p>
<p>Use the ListDiff.create factory function to avoid pitfalls
associated with having to learn all of the methods of this class.</p>
<p>Use the ListDiff.create method.</p>
<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.add_deletion">
<code class="sig-name descname">add_deletion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ind</span></em>, <em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.add_deletion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.add_deletion" title="Permalink to this definition">¶</a></dt>
<dd><p>Records a missing <code class="xref any docutils literal notranslate"><span class="pre">obj</span></code> at <code class="xref any docutils literal notranslate"><span class="pre">ind</span></code>. Don’t call, if you used the factory.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.add_insertion">
<code class="sig-name descname">add_insertion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ind</span></em>, <em class="sig-param"><span class="n">add_offset</span></em>, <em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.add_insertion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.add_insertion" title="Permalink to this definition">¶</a></dt>
<dd><p>Records a new <code class="xref any docutils literal notranslate"><span class="pre">obj</span></code> at <code class="xref any docutils literal notranslate"><span class="pre">ind</span></code>. Don’t call, if you used the factory.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.add_modificaton">
<code class="sig-name descname">add_modificaton</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ind</span></em>, <em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.add_modificaton"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.add_modificaton" title="Permalink to this definition">¶</a></dt>
<dd><p>Records altered <code class="xref any docutils literal notranslate"><span class="pre">obj</span></code> at <code class="xref any docutils literal notranslate"><span class="pre">ind</span></code>. Don’t call, if you used the factory.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.additions_expr">
<code class="sig-name descname">additions_expr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.additions_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.additions_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings describing additions. <code class="xref any docutils literal notranslate"><span class="pre">par</span></code> can be a prefix.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.create">
<em class="property">static </em><code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory function for a ListDiff object comparing <code class="xref any docutils literal notranslate"><span class="pre">src</span></code> to <code class="xref any docutils literal notranslate"><span class="pre">dest</span></code>.</p>
<p>Returns None if the <code class="xref any docutils literal notranslate"><span class="pre">src</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">dest</span></code> are equal.
Inefficient comparison of src and dest lists.
Recurses through dict and lists.
returns (is_identical, modifications, additions, deletions)
where each</p>
<blockquote>
<div><dl class="simple">
<dt>is_identical is a boolean True if the dicts have</dt><dd><p>contents that compare equal.</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>and the other three are dicts:</dt><dd><p>attributes both, but with different values
attributes in dest but not in src
attributes in src but not in dest</p>
</dd>
</dl>
<p>Returned dicts may alias objects in src, and dest.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.deletions_expr">
<code class="sig-name descname">deletions_expr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.deletions_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.deletions_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings describing deletions. <code class="xref any docutils literal notranslate"><span class="pre">par</span></code> can be a prefix.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.edits_expr">
<code class="sig-name descname">edits_expr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.edits_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.edits_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Should probably be private. Returns a list of strings describing edits.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.finish">
<code class="sig-name descname">finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts edits. Not needed if you used the factory.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.modification_expr">
<code class="sig-name descname">modification_expr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.modification_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.modification_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings describing modifications. <code class="xref any docutils literal notranslate"><span class="pre">par</span></code> can be a prefix.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListDiff.patch">
<code class="sig-name descname">patch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListDiff.patch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListDiff.patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the ListDiff to <code class="xref any docutils literal notranslate"><span class="pre">src</span></code> list.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="peyutil.test.support.struct_diff.ListEdit">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.test.support.struct_diff.</code><code class="sig-name descname">ListEdit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src_ind</span></em>, <em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListEdit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListEdit" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for encapsulating a single edit to a list.</p>
<p>Notes <code class="xref any docutils literal notranslate"><span class="pre">obj</span></code> at <code class="xref any docutils literal notranslate"><span class="pre">src_ind</span></code> in edited form.</p>
</dd></dl>

<dl class="py class">
<dt id="peyutil.test.support.struct_diff.ListAddition">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.test.support.struct_diff.</code><code class="sig-name descname">ListAddition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src_ind</span></em>, <em class="sig-param"><span class="n">add_offset</span></em>, <em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListAddition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListAddition" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclass for encapsulating an addition to a list.</p>
<p>Same as base class init.</p>
<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListAddition.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListAddition.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListAddition.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard repr.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListAddition.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListAddition.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListAddition.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Str calls repr.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="peyutil.test.support.struct_diff.ListElModification">
<em class="property">class </em><code class="sig-prename descclassname">peyutil.test.support.struct_diff.</code><code class="sig-name descname">ListElModification</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src_ind</span></em>, <em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListElModification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListElModification" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclass for encapsulating a modification to a list.</p>
<p>Same as base class init.</p>
<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListElModification.__repr__">
<code class="sig-name descname">__repr__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListElModification.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListElModification.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard repr.</p>
</dd></dl>

<dl class="py method">
<dt id="peyutil.test.support.struct_diff.ListElModification.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/peyutil/test/support/struct_diff.html#ListElModification.__str__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#peyutil.test.support.struct_diff.ListElModification.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Str calls repr.</p>
</dd></dl>

</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div style="text-align: center; padding-top: 20px; padding-bottom: 5px; width: 100%;">
    <a href="#"><img src="_static/logo.png" /></a>
</div><div style="clear:both; width: 100%; height:1px;"></div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><div style="clear:both; width: 100%; height:1px;"></div>
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">peyutil</span></code>: Python utilities for Open Tree</a><ul>
<li><a class="reference internal" href="#io-functions">IO functions</a></li>
<li><a class="reference internal" href="#string-manipulations">String manipulations</a></li>
<li><a class="reference internal" href="#misc-functions">Misc functions</a></li>
<li><a class="reference internal" href="#newick-tree-tokenization">Newick Tree tokenization</a></li>
<li><a class="reference internal" href="#python-2-3-compatability">Python 2+3 compatability</a></li>
<li><a class="reference internal" href="#for-internal-use-only">For internal use only</a></li>
<li><a class="reference internal" href="#utilities-for-writing-tests">Utilities for writing tests</a></li>
</ul>
</li>
</ul>
<div style="clear:both; width: 100%; height:1px;"></div><div style="clear:both; width: 100%; height:1px;"></div>
    <!-- Documentation -->
    <!-- div style="border-top: double 1px white; padding-top: 10px;">
        <h3>Documentation</h3>
        <ul>
            <li><a href="primer/index.html">The DendroPy Primer</a></li>
            <li><a href="library/index.html">Library API Reference</a></li>
            <li>
                <a href="schemas/index.html">Schemas</a>
                <ul>
                    <li><a href="schemas/fasta.html">FASTA</a></li>
                    <li><a href="schemas/newick.html">Newick</a></li>
                    <li><a href="schemas/nexml.html">NeXML</a></li>
                    <li><a href="schemas/nexus.html">Nexus</a></li>
                    <li><a href="schemas/phylip.html">PHYLIP</a></li>
                </ul>
            </li>
            <li>
                <a href="programs/index.html">Programs</a>
                <ul>
                    <li><a href="programs/sumtrees.html">SumTrees</a></li>
                </ul>
            </li>
            <li><a href="glossary.html">Glossary and Terminological Reference</a></li>
            <li><a href="changes.html">Change History</a></li>
        </ul>
    </div -->

    <!-- Downloads -->
    <div style="border-top: double 1px white; padding-top: 10px;">
        <h3>Obtaining</h3>
        <ul>
            <li><a target="_blank" href="https://pypi.org/project/peyutil">Install from the PyPI.</a></li>
            <li><a target="_blank" href="https://github.com/OpenTreeOfLife/peyutil">Clone the git Repository.</a></li>
        </ul>
    </div>

    <!-- Discussions -->
    <div style="border-top: double 1px white; padding-top: 10px; position: relative;">
        <h3><span style="text-align: left">Discussion</span></h3>
        <ul>
            <li><a href="https://gitter.im/OpenTreeOfLife/public">OToL open chat channel on gitter.</a></li>
            <li><a href="https://github.com/OpenTreeOfLife/peyutil/issues">Browse issues.</a></li>
            <li><a href="https://github.com/OpenTreeOfLife/peyutil/issues/new/choose">Open an issue.</a></li>
        </div>
    </div>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">peyutil 0.0.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">peyutil</span></code>: Python utilities for Open Tree</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020-2020, Open Tree of Life developers.
    </div>
  </body>
</html>